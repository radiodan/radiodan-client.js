!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],2:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(a,b,c){(function(a){!function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof c)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else Q=a()}(function(){"use strict";function b(a){return function(){return Y.apply(a,arguments)}}function c(a){return a===Object(a)}function d(a){return"[object StopIteration]"===eb(a)||a instanceof U}function e(a,b){if(R&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(gb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+gb+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===T&&d>=V&&lb>=d}function j(){if(R)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return T=d[0],d[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return s(a)?a:t(a)?E(a):D(a)}function m(){function a(a){b=a,f.source=a,$(c,function(b,c){X(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=bb(m.prototype),f=bb(p.prototype);if(f.promiseDispatch=function(a,e,f){var g=Z(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):X(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=r(b);return s(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&R)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(l(c))},e.fulfill=function(c){b||a(D(c))},e.reject=function(c){b||a(C(c))},e.notify=function(a){b||$(d,function(b,c){X(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function o(a){return n(function(b,c){for(var d=0,e=a.length;e>d;d++)l(a[d]).then(b,c)})}function p(a,b,c){void 0===b&&(b=function(a){return C(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=bb(p.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=C(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function q(a,b,c,d){return l(a).then(b,c,d)}function r(a){if(s(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function s(a){return c(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function t(a){return c(a)&&"function"==typeof a.then}function u(a){return s(a)&&"pending"===a.inspect().state}function v(a){return!s(a)||"fulfilled"===a.inspect().state}function w(a){return s(a)&&"rejected"===a.inspect().state}function x(){!jb&&"undefined"!=typeof window&&window.console&&console.warn("[Q] Unhandled rejection reasons (should be empty):",hb),jb=!0}function y(){for(var a=0;a<hb.length;a++){var b=hb[a];console.warn("Unhandled rejection reason:",b)}}function z(){hb.length=0,ib.length=0,jb=!1,kb||(kb=!0,"undefined"!=typeof a&&a.on&&a.on("exit",y))}function A(a,b){kb&&(ib.push(a),hb.push(b&&"undefined"!=typeof b.stack?b.stack:"(no stack) "+b),x())}function B(a){if(kb){var b=_(ib,a);-1!==b&&(ib.splice(b,1),hb.splice(b,1))}}function C(a){var b=p({when:function(b){return b&&B(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return A(b,a),b}function D(a){return p({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return db(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function E(a){var b=m();return X(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function F(a){return p({isDef:function(){}},function(b,c){return L(a,b,c)},function(){return l(a).inspect()})}function G(a,b,c){return l(a).spread(b,c)}function H(a){return function(){function b(a,b){var g;if(fb){try{g=c[a](b)}catch(h){return C(h)}return g.done?g.value:q(g.value,e,f)}try{g=c[a](b)}catch(h){return d(h)?h.value:C(h)}return q(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function I(a){l.done(l.async(a)())}function J(a){throw new U(a)}function K(a){return function(){return G([this,M(arguments)],function(b,c){return a.apply(b,c)})}}function L(a,b,c){return l(a).dispatch(b,c)}function M(a){return q(a,function(a){var b=0,c=m();return $(a,function(d,e,f){var g;s(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,q(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function N(a){return q(a,function(a){return a=ab(a,l),q(M(ab(a,function(a){return q(a,W,W)})),function(){return a})})}function O(a){return l(a).allSettled()}function P(a,b){return l(a).then(void 0,void 0,b)}function Q(a,b){return l(a).nodeify(b)}var R=!1;try{throw new Error}catch(S){R=!!S.stack}var T,U,V=j(),W=function(){},X=function(){function b(){for(;c.next;){c=c.next;var a=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{a()}catch(f){if(g)throw d&&d.exit(),setTimeout(b,0),d&&d.enter(),f;setTimeout(function(){throw f},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},d=c,e=!1,f=void 0,g=!1;if(X=function(b){d=d.next={task:b,domain:g&&a.domain,next:null},e||(e=!0,f())},"undefined"!=typeof a&&a.nextTick)g=!0,f=function(){a.nextTick(b)};else if("function"==typeof setImmediate)f="undefined"!=typeof window?setImmediate.bind(window,b):function(){setImmediate(b)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=function(){f=i,h.port1.onmessage=b,b()};var i=function(){h.port2.postMessage(0)};f=function(){setTimeout(b,0),i()}}else f=function(){setTimeout(b,0)};return X}(),Y=Function.call,Z=b(Array.prototype.slice),$=b(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),_=b(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),ab=b(Array.prototype.map||function(a,b){var c=this,d=[];return $(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),bb=Object.create||function(a){function b(){}return b.prototype=a,new b},cb=b(Object.prototype.hasOwnProperty),db=Object.keys||function(a){var b=[];for(var c in a)cb(a,c)&&b.push(c);return b},eb=b(Object.prototype.toString);U="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var fb;try{new Function("(function* (){ yield 1; })"),fb=!0}catch(S){fb=!1}var gb="From previous event:";l.resolve=l,l.nextTick=X,l.longStackSupport=!1,l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):a.resolve(arguments.length>2?Z(arguments,1):c)}},l.promise=n,l.passByCopy=function(a){return a},p.prototype.passByCopy=function(){return this},l.join=function(a,b){return l(a).join(b)},p.prototype.join=function(a){return l([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},l.race=o,p.prototype.race=function(){return this.then(l.race)},l.makePromise=p,p.prototype.toString=function(){return"[object Promise]"},p.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return C(c)}}function f(a){if("function"==typeof b){e(a,h);try{return b(a)}catch(c){return C(c)}}return C(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return X(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!l.onerror)throw d;l.onerror(d)}c||i.notify(b)}]),i.promise},l.when=q,p.prototype.thenResolve=function(a){return this.then(function(){return a})},l.thenResolve=function(a,b){return l(a).thenResolve(b)},p.prototype.thenReject=function(a){return this.then(function(){throw a})},l.thenReject=function(a,b){return l(a).thenReject(b)},l.nearer=r,l.isPromise=s,l.isPromiseAlike=t,l.isPending=u,p.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=v,p.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=w,p.prototype.isRejected=function(){return"rejected"===this.inspect().state};var hb=[],ib=[],jb=!1,kb=!0;l.resetUnhandledRejections=z,l.getUnhandledReasons=function(){return hb.slice()},l.stopUnhandledRejectionTracking=function(){z(),"undefined"!=typeof a&&a.on&&a.removeListener("exit",y),kb=!1},z(),l.reject=C,l.fulfill=D,l.master=F,l.spread=G,p.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},l.async=H,l.spawn=I,l["return"]=J,l.promised=K,l.dispatch=L,p.prototype.dispatch=function(a,b){var c=this,d=m();return X(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},l.get=function(a,b){return l(a).dispatch("get",[b])},p.prototype.get=function(a){return this.dispatch("get",[a])},l.set=function(a,b,c){return l(a).dispatch("set",[b,c])},p.prototype.set=function(a,b){return this.dispatch("set",[a,b])},l.del=l["delete"]=function(a,b){return l(a).dispatch("delete",[b])},p.prototype.del=p.prototype["delete"]=function(a){return this.dispatch("delete",[a])},l.mapply=l.post=function(a,b,c){return l(a).dispatch("post",[b,c])},p.prototype.mapply=p.prototype.post=function(a,b){return this.dispatch("post",[a,b])},l.send=l.mcall=l.invoke=function(a,b){return l(a).dispatch("post",[b,Z(arguments,2)])},p.prototype.send=p.prototype.mcall=p.prototype.invoke=function(a){return this.dispatch("post",[a,Z(arguments,1)])},l.fapply=function(a,b){return l(a).dispatch("apply",[void 0,b])},p.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},l["try"]=l.fcall=function(a){return l(a).dispatch("apply",[void 0,Z(arguments,1)])},p.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},l.fbind=function(a){var b=l(a),c=Z(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(Z(arguments))])}},p.prototype.fbind=function(){var a=this,b=Z(arguments);return function(){return a.dispatch("apply",[this,b.concat(Z(arguments))])}},l.keys=function(a){return l(a).dispatch("keys",[])},p.prototype.keys=function(){return this.dispatch("keys",[])},l.all=M,p.prototype.all=function(){return M(this)},l.allResolved=k(N,"allResolved","allSettled"),p.prototype.allResolved=function(){return N(this)},l.allSettled=O,p.prototype.allSettled=function(){return this.then(function(a){return M(ab(a,function(a){function b(){return a.inspect()}return a=l(a),a.then(b,b)}))})},l.fail=l["catch"]=function(a,b){return l(a).then(void 0,b)},p.prototype.fail=p.prototype["catch"]=function(a){return this.then(void 0,a)},l.progress=P,p.prototype.progress=function(a){return this.then(void 0,void 0,a)},l.fin=l["finally"]=function(a,b){return l(a)["finally"](b)},p.prototype.fin=p.prototype["finally"]=function(a){return a=l(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},l.done=function(a,b,c,d){return l(a).done(b,c,d)},p.prototype.done=function(b,c,d){var f=function(a){X(function(){if(e(a,g),!l.onerror)throw a;l.onerror(a)})},g=b||c||d?this.then(b,c,d):this;"object"==typeof a&&a&&a.domain&&(f=a.domain.bind(f)),g.then(void 0,f)},l.timeout=function(a,b,c){return l(a).timeout(b,c)},p.prototype.timeout=function(a,b){var c=m(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},l.delay=function(a,b){return void 0===b&&(b=a,a=void 0),l(a).delay(b)},p.prototype.delay=function(a){return this.then(function(b){var c=m();return setTimeout(function(){c.resolve(b)},a),c.promise})},l.nfapply=function(a,b){return l(a).nfapply(b)},p.prototype.nfapply=function(a){var b=m(),c=Z(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},l.nfcall=function(a){var b=Z(arguments,1);return l(a).nfapply(b)},p.prototype.nfcall=function(){var a=Z(arguments),b=m();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},l.nfbind=l.denodeify=function(a){var b=Z(arguments,1);return function(){var c=b.concat(Z(arguments)),d=m();return c.push(d.makeNodeResolver()),l(a).fapply(c).fail(d.reject),d.promise}},p.prototype.nfbind=p.prototype.denodeify=function(){var a=Z(arguments);return a.unshift(this),l.denodeify.apply(void 0,a)},l.nbind=function(a,b){var c=Z(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(Z(arguments)),f=m();return e.push(f.makeNodeResolver()),l(d).fapply(e).fail(f.reject),f.promise}},p.prototype.nbind=function(){var a=Z(arguments,0);return a.unshift(this),l.nbind.apply(void 0,a)},l.nmapply=l.npost=function(a,b,c){return l(a).npost(b,c)},p.prototype.nmapply=p.prototype.npost=function(a,b){var c=Z(b||[]),d=m();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},l.nsend=l.nmcall=l.ninvoke=function(a,b){var c=Z(arguments,2),d=m();return c.push(d.makeNodeResolver()),l(a).dispatch("post",[b,c]).fail(d.reject),d.promise},p.prototype.nsend=p.prototype.nmcall=p.prototype.ninvoke=function(a){var b=Z(arguments,1),c=m();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},l.nodeify=Q,p.prototype.nodeify=function(a){return a?void this.then(function(b){X(function(){a(null,b)})},function(b){X(function(){a(b)})}):this};var lb=j();return l})}).call(this,a("/Users/dan/Code/radiodan/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/dan/Code/radiodan/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2}],4:[function(a,b){b.exports={status:"status",volume:"volume"}},{}],5:[function(a,b){b.exports={add:"playlist.add",clear:"playlist.clear",next:"player.next",pause:"player.pause",play:"player.play",previous:"player.previous",random:"player.random",remove:"playlist.delete",repeat:"player.repeat",search:"database.search",status:"player.status",stop:"player.stop",updateDatabase:"database.update",volume:"player.volume"}},{}],6:[function(a,b){var c=a("./actions/audio.json"),d=a("./command-and-events");b.exports=function(a){var b=d.create(a,"player",c);return{create:b}}},{"./actions/audio.json":4,"./command-and-events":8}],7:[function(a,b){b.exports.create=function(b){return{player:a("./player")(b),audio:a("./audio")(b)}},window.Radiodan=b.exports},{"./audio":6,"./player":9}],8:[function(a,b){function c(a,b,c){return a=(a||"").toString(),b=b||"",c=c||{},"/"===a[a.length-1]&&(a=a.substring(0,a.length-1)),function(g){function h(b,c){return console.log("sendCommandForAction",b,c),f(a+"/radiodan/command/"+l.path,{action:b,options:c}).then(function(a){return a.error?(console.warn("Command failed",a.error),d.reject(a.error)):(console.log("Command completed",a),d.resolve(a.data))})}function i(b){var c=d.defer();return k||(k=new EventSource(a+"/radiodan/stream/"+l.path)),k.addEventListener("message",function(a){var c;try{c=JSON.parse(a.data),b(c)}catch(d){console.error(d)}}),k.addEventListener("open",function(){c.resolve()}),c.promise}var j,k,l=new e;return l.path=b+"/"+g,l.key="event."+b+"."+g,j=i(function(a){var b=a.fields.routingKey.replace(l.key+".","");l.emit(b,a.content),l.emit("message",a.content)}),Object.keys(c).forEach(function(a){var b=c[a];l[a]=function(a){return j.then(function(){return h(b,a)})}}),l}}var d=a("q"),e=a("events").EventEmitter,f=a("./xhr");b.exports={create:c}},{"./xhr":10,events:1,q:3}],9:[function(a,b){var c=a("./actions/player.json"),d=a("./command-and-events");b.exports=function(a){var b=d.create(a,"player",c);return{create:b}}},{"./actions/player.json":5,"./command-and-events":8}],10:[function(a,b){var c=a("q");b.exports=function(a,b){var d=c.defer(),e=new XMLHttpRequest;return e.open("POST",a),e.onload=function(){200==e.status?d.resolve(JSON.parse(e.response)):d.reject(Error(e.statusText))},e.onerror=function(){d.reject(Error("Network Error"))},e.setRequestHeader("Content-type","application/json"),b?e.send(JSON.stringify(b)):e.send(),d.promise}},{q:3}]},{},[7]);